set term postscript noenhanced eps color
set output outfile
#set title gtitle
##set dfile datafile
#set key box opaque
#set key height -1
#set key width -1 
set key font ", 30"
#set key outside top center
#set key horiz 
#set key bottom right
#set key outside
#set key off
unset key

#set output "ss.eps"
#set size 1.5, 0.5
#set style histogram 
set size 2.0, 1.1
#set xtics 0,1,4
#set ylabel "PointerUpdates" font ", 14"
#set xlabel "Threads" font ", 14"
set ylabel gylabel font ", 20"
set xlabel gxlabel font ", 20"
set xtics rotate by 90 right

## offset 3,0,0
#set xlabel gxlabelred
set multiplot
set xtics font ", 12"
set ytics font ", 12"
#set style data histogram
#set style histogram cluster gap 2
set style fill solid border lc rgb 'black'
set boxwidth 1
#set boxwidth 0.5
#set xrange [0.5:]
#set yrange [1950000:2050000]
#set yrange [0:]
#set yrange [0:gymax]
set xtics rotate by 90
set style line 1 lt 1 lc rgb '#00ffff'  # cyan 
set style line 2 lc rgb 'gray' lt 1 lw 2 pt 2 dt 1  # blocked 
set style line 2 lt 1 lc rgb '#a0ff20' # greenyellow 
set style line 2 lt 1 lc rgb 'red' # red
set style line 3 lt 1 lc rgb '#e55964' # light red
set style line 4 lt 1 lw 3 lc rgb 'red' # dark blue
set style line 5 lt 1 lw 3 lc rgb 'blue' # dark blue

set style line 6 lt 1 lc rgb '#999933' # dark blue
set style line 7 lt -1 lc rgb '#117733' #set style line 1 lc rgb 'orange' lt 1 lw 1 pt 2 dt 1 # blocked 
#set style line 2 lc rgb '#812581' lt 1 lw 1 pt 2 dt 1 # blocked 
#set style line 3 lt 1 lc rgb '#e55964' # light red
#set style line 3 lt 1 lc rgb '#b5367a' # magenta
#set style line 4 lt 1 lc rgb '#1c1044' # dark blue
#set style line 2 lt 1 lc rgb '#00ffff' # cyan
#
#'' using 7:xticlabel(1) ls 6 ti col, \
#'' using 8:xticlabel(1) ls 7 ti col, \
#'' using 3:xticlabel(1) ls 2 ti col, \
#'' using 4:xticlabel(1) ls 3 ti col, \
#'' using 5:xticlabel(1) ls 4 ti col, \
#'' using 6:xticlabel(1) ls 5 ti col, \

# for bar graph 
#plot datafile using 2:xticlabel(1) with boxes ls 2
#ls 7 fillstyle pattern 5 title columnheader
#plot datafile using 2:xticlabel(1) ls 7 fillstyle pattern 5 title columnheader


# for different colors 
#plot datafile using 0:2:3:xtic(1) w boxes lc var lt 1 lw 2 fillstyle solid border 8 \
#	'' u 2 w boxes lc rgb 'black' fillstyle pattern 10 transparent 
#plot datafile using 0:2:3:xtic(1) w boxes lc var fillstyle solid border,  '' u 2 w boxes lc rgb 'black' fillstyle pattern 10 transparent 

#plot datafile using 0:2:3:xtic(1) w boxes,  '' u 2 w boxes
#plot datafile using 0:2:3:xtic(1) w boxes fillstyle solid border,  '' u 2 w boxes lc rgb 'black' fillstyle pattern 10 transparent 
#plot datafile using 0:2:3:xtic(1) w boxes lc var fillstyle solid border,  '' u 2 w boxes lc rgb 'black' fillstyle pattern 10 transparent 

#plot $Data u ($0-0.2):2:4:xtic(1) w boxes lc var fill pattern 1, \
#     '' u  ($0+0.2):3:4 w boxes lc var fill solid 1.0
#
#plot for [i=2:7] 'data.dat' using i:xtic(1) ti columnhead(i > 3 ? 10 : i) ls i%2+1 fillstyle solid noborder,\
#     newhistogram at -1, \
#     '' using 2 ti 'total' lt -1 fillstyle empty,\
#     '' using 3 notitle lt -1 fillstyle empty,\
#     '' using 4 title 'women' lt -1 fillstyle pattern 5,\
#     '' using 5 notitle lt -1 fillstyle pattern 5,\
#     '' using 6 title 'men' lt -1 fillstyle pattern 6,\
#     '' using 7 notitle lt -1 fillstyle pattern 6
#'' using 3:xticlabel(1) ti col, \
# for linepoints graph 
#set style line 1 lc rgb 'gray' lt 1 lw 5 pt 2 dt 1 # blocked 
#set style line 2 lc rgb 'black' lt 2 lw 2 pt 5 dt 2# Concurrent 
#set style line 3 lc rgb 'black' lt 5 lw 2 pt 1 dt 1 # JellyFish
#set style line 4 lc rgb 'blue' lt 3 lw 2 pt 7 dt 5 # JDK 
#set pointintervalbox 3
set style data histograms
set style histogram rowstacked gap 1
set boxwidth 0.9 relative
set style fill solid 1.0 border 1
set datafile separator " "
y1=gymax/4*3
y2=gymax
set xtics nomirror
set ytics nomirror
y3=gymax
y4=290000000
set yrange [y1:y2]
set border 1+2+8
set tmargin at screen 0.70
set bmargin at screen 0.25 
plot datafile using 2 t "ud", \
	 '' using 3:xticlabels(1) t "md", \
	 '' using 4:xticlabels(1) t "gud", \
	 '' using 5:xticlabels(1) t "gmd", \

set yrange [y3:y4]
unset xtics
set key
unset xlabel
unset ylabel
set border 2+4+8
set lmargin at screen 0.142
set tmargin at screen 0.68
set tmargin at screen 1.00
set bmargin at screen 0.73
plot datafile using 2 t "ud", \
	 '' using 3:xticlabels(1) t "md", \
	 '' using 4:xticlabels(1) t "gud", \
	 '' using 5:xticlabels(1) t "gmd"


unset multiplot
#plot datafile using 2:xticlabel(1) with linespoints ls 4 title columnheader , \
#	'' using 3:xticlabel(1) with linespoints ls 5 title columnheader , \
#plot datafile using 2:xticlabel(1) with linespoints ls 1 title columnheader , \
#	'' using 3:xticlabel(1) with linespoints ls 2 title columnheader , \
#plot datafile using 2:xticlabel(1) with linespoints ls 1 title columnheader, \
#'' using 3:xticlabel(1) with linespoints ls 2 title columnheader, \
#'' using 4:xticlabel(1) with linespoints ls 3 title columnheader, \
#'' using 5:xticlabel(1) with linespoints ls 4 title columnheader, \

#plot for [col=2:6] datafile using 0:col:xticlabel(1) with linespoints lt col+2 title columnheader
#plot for [col=2:6] 'ss.dat' using 0:col:xticlabel(1) with linespoints title columnheader


#plot datafile using 0:1, datafile using 0:2 with linepoints
#plot datafile using 2:xticlabel(1) with linespoints ls 1 title columnheader, \
#'' using 3:xticlabel(1) with linespoints ls 2 title columnheader, \
#'' using 4:xticlabel(1) with linespoints ls 3 title columnheader, \
#'' using 5:xticlabel(1) with linespoints ls 4 title columnheader, \

#plot for [col=2:6] datafile using 0:col:xticlabel(1) with linespoints lt col+2 title columnheader
#plot for [col=2:6] 'ss.dat' using 0:col:xticlabel(1) with linespoints title columnheader


#plot datafile using 0:1, datafile using 0:2 with linepoints
